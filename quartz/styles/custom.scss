@use "./base.scss";

// put your custom CSS here!

/* ───────────────────────────────
   블록 수식( $$ … $$ ) 전용 가운데 정렬
──────────────────────────────── */
.katex-display {
	display: block !important;      /* span → block */
	text-align: center !important;  /* 가운데 */
	margin: 1em 0 !important;       /* 위·아래 여백 (취향) */
}

.katex-display > .katex {
	margin-left: auto !important;   /* 실제 수식 상자 가운데 */
	margin-right: auto !important;
}

/* 인라인 수식( $ … $ )은 .katex만 있음 → 건드리지 않음 */

/* ───────────────────────────────
   Obsidian 줄 간격 유지
──────────────────────────────── */

/* 문단과 리스트 아이템의 줄 간격을 Obsidian과 유사하게 조정 */
article p, 
article li {
	line-height: 1.8 !important;  /* Obsidian과 유사한 넓은 줄 간격 */
	margin-bottom: 1.2em !important; /* 더 넓은 문단 간격 */
}

/* 연속된 문단 사이의 간격 조정 */
article p + p {
	margin-top: 0.8em !important;
}

/* 리스트 아이템 간격 조정 */
article ul li, 
article ol li {
	margin-bottom: 0.4em !important;
	line-height: 1.8 !important;
}

/* 중첩된 리스트 간격 조정 */
article ul ul, 
article ol ol, 
article ul ol, 
article ol ul {
	margin-top: 0.4em !important;
	margin-bottom: 0.4em !important;
}

/* 제목 다음에 오는 문단의 간격 조정 */
article h1 + p,
article h2 + p,
article h3 + p,
article h4 + p,
article h5 + p,
article h6 + p {
	margin-top: 0.8em !important;
}

/* ───────────────────────────────
   블록 요소들 간의 간격 세밀 조정
──────────────────────────────── */

/* 블록쿼트 간격 */
article blockquote {
	margin: 0.5em 0 !important;
	line-height: 1.8 !important;
	padding: 0.8em 1.2em !important;
}

/* 코드 블록 간격 */
article pre {
	margin: 1.2em 0 !important;
}

/* 테이블 간격 */
article table {
	margin: 1.2em 0 !important;
}

/* 빈 줄로 구분된 문단들의 간격을 더 자연스럽게 */
article p:empty {
	margin: 0.8em 0 !important;
	line-height: 0.8em !important;
}

/* ───────────────────────────────
   Base.scss 기본 설정 덮어쓰기 (Obsidian 스타일)
──────────────────────────────── */

/* base.scss의 tbody, li, p 설정 덮어쓰기 */
article tbody,
article p {
	line-height: 1.8 !important;
}

/* 전체 article 내용의 기본 줄 간격 */
article {
	line-height: 1.8 !important;
}

/* 수식 블록 주변 여백 증가 */
.katex-display {
	margin: 1.5em 0 !important;
}

/* 텍스트 밀도 조정 (선택사항) */
/* article {
	word-spacing: 0.05em;  단어 간격 조정
	letter-spacing: 0.01em; 글자 간격 조정
} */

/* ───────────────────────────────
   Obsidian 빈 줄 처리
──────────────────────────────── */

/* <br> 태그로 만든 줄바꿈 처리 */
article br {
	display: block !important;
	margin: 0.5em 0 !important;
	line-height: 1.5em !important;
}

/* 연속된 <br> 태그 처리 */
article br + br {
	margin-top: 1em !important;
}

/* &nbsp; 처리 */
article p:has(br:only-child),
article p:empty,
article p:blank {
	min-height: 1em !important;
	margin: 0.5em 0 !important;
}

/* 빈 문단이나 공백만 있는 문단 처리 */
article p:only-child:empty,
article p:only-child:blank {
	display: block !important;
	height: 1em !important;
	margin: 0.5em 0 !important;
}

/* white-space 설정으로 개행 문자 보존 */
article {
	white-space: pre-line !important;
}

/* ───────────────────────────────
   콜아웃 간격 조정
──────────────────────────────── */

/* 콜아웃 상하 여백 줄이기 */
.callout {
	margin: 0.5em 0 !important;
}

/* 콜아웃과 이전 요소 사이의 간격 줄이기 */
article p + .callout,
article h1 + .callout,
article h2 + .callout,
article h3 + .callout,
article h4 + .callout,
article h5 + .callout,
article h6 + .callout {
	margin-top: 0.3em !important;
}

/* 콜아웃과 다음 요소 사이의 간격 줄이기 */
.callout + p,
.callout + h1,
.callout + h2,
.callout + h3,
.callout + h4,
.callout + h5,
.callout + h6 {
	margin-top: 0.3em !important;
}

/* 콜아웃 내부 여백 조정 */
.callout-content {
	padding: 0.5em 0 !important;
}

/* 콜아웃 내부의 첫 번째와 마지막 요소 여백 제거 */
.callout-content > :first-child {
	margin-top: 0 !important;
}

.callout-content > :last-child {
	margin-bottom: 0 !important;
}

/* ───────────────────────────────
   인용구와 다른 요소 사이의 간격 조정
──────────────────────────────── */

/* 문단과 인용구 사이의 간격 줄이기 */
article p + blockquote {
	margin-top: 0.3em !important;
}

/* 인용구 다음에 오는 문단의 간격 줄이기 */
article blockquote + p {
	margin-top: 0.3em !important;
}

/* 제목 다음에 오는 인용구의 간격 줄이기 */
article h1 + blockquote,
article h2 + blockquote,
article h3 + blockquote,
article h4 + blockquote,
article h5 + blockquote,
article h6 + blockquote {
	margin-top: 0.3em !important;
}

/* 인용구 내부의 첫 번째와 마지막 요소 여백 조정 */
article blockquote > :first-child {
	margin-top: 0 !important;
}

article blockquote > :last-child {
	margin-bottom: 0 !important;
}


